{"ast":null,"code":"import _slicedToArray from\"/Users/kopcion/LearningFromHumanPreferences-master/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from'axios';import React,{useEffect,useState}from'react';import{LazyLoadComponent}from'react-lazy-load-image-component';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var firstChoiceStyle=[\"outline outline-offset-0 outline-green-500 shadow-2xl shadow-green-400\",\"outline outline-offset-0 outline-red-500 opacity-75 shadow-2xl shadow-red-400\",\"outline outline-offset-0 outline-green-300 shadow-xl shadow-green-300\",\"outline outline-offset-0 outline-black-500 opacity-75\"];var secondChoiceStyle=[\"outline outline-offset-0 outline-red-500 opacity-75 shadow-2xl shadow-red-400\",\"outline outline-offset-0 outline-green-500 shadow-2xl shadow-green-400\",\"outline outline-offset-0 outline-green-300 shadow-xl shadow-green-300\",\"outline outline-offset-0 outline-black-500 opacity-75\"];function useForceUpdate(){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),value=_useState2[0],setValue=_useState2[1];// integer state\nreturn function(){return setValue(function(value){return value+1;});};// update the state to force render\n}var VideosContainer=function VideosContainer(_ref){var idx=_ref.idx;var forceUpdate=useForceUpdate();var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),display=_useState4[0],setDisplay=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),choice=_useState6[0],setChoice=_useState6[1];useEffect(function(){axios.get(\"/videos/video_one_\".concat(idx,\".mp4\")).then(function(){setDisplay(true);forceUpdate();}).catch(function(){setDisplay(false);forceUpdate();});},[]);useEffect(function(){axios.get(\"/human_choice/\".concat(idx)).then(function(res){setChoice(res.data.choice-1);forceUpdate();}).catch(function(){setDisplay(false);forceUpdate();});},[]);return/*#__PURE__*/_jsx(_Fragment,{children:display?/*#__PURE__*/_jsx(LazyLoadComponent,{threshold:20,children:/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-row my-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row mx-auto pb-2\",children:[\"Episode \",idx]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row\",children:[/*#__PURE__*/_jsx(\"video\",{className:\"rounded-xl mx-4 \".concat(firstChoiceStyle[choice]),autoPlay:true,loop:true,muted:true,width:\"140\",height:\"140\",src:\"videos/video_one_\".concat(idx,\".mp4\")}),/*#__PURE__*/_jsx(\"video\",{className:\"rounded-xl mx-4 \".concat(secondChoiceStyle[choice]),autoPlay:true,loop:true,muted:true,width:\"140\",height:\"140\",src:\"videos/video_two_\".concat(idx,\".mp4\")})]})]})})}):/*#__PURE__*/_jsx(_Fragment,{})});};export default VideosContainer;","map":{"version":3,"sources":["/Users/kopcion/LearningFromHumanPreferences-master/frontend/src/components/VideosWrapper.tsx"],"names":["axios","React","useEffect","useState","LazyLoadComponent","firstChoiceStyle","secondChoiceStyle","useForceUpdate","value","setValue","VideosContainer","idx","forceUpdate","display","setDisplay","choice","setChoice","get","then","catch","res","data"],"mappings":"iJAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAAmD,OAAnD,CACA,OAASC,iBAAT,KAAkC,iCAAlC,C,6IAEA,GAAMC,CAAAA,gBAAgB,CAAG,CACvB,wEADuB,CAEvB,+EAFuB,CAGvB,uEAHuB,CAIvB,uDAJuB,CAAzB,CAOA,GAAMC,CAAAA,iBAAiB,CAAG,CACxB,+EADwB,CAExB,wEAFwB,CAGxB,uEAHwB,CAIxB,uDAJwB,CAA1B,CAOA,QAASC,CAAAA,cAAT,EAAyB,CACvB,cAA0BJ,QAAQ,CAAC,CAAD,CAAlC,wCAAOK,KAAP,eAAcC,QAAd,eAAuC;AACvC,MAAO,kBAAMA,CAAAA,QAAQ,CAAC,SAAAD,KAAK,QAAIA,CAAAA,KAAK,CAAG,CAAZ,EAAN,CAAd,EAAP,CAA2C;AAC5C,CAED,GAAME,CAAAA,eAAuC,CAAG,QAA1CA,CAAAA,eAA0C,MAAa,IAAVC,CAAAA,GAAU,MAAVA,GAAU,CAC3D,GAAMC,CAAAA,WAAW,CAAGL,cAAc,EAAlC,CACA,eAA8BJ,QAAQ,CAAU,KAAV,CAAtC,yCAAOU,OAAP,eAAgBC,UAAhB,eACA,eAA4BX,QAAQ,CAAS,CAAT,CAApC,yCAAOY,MAAP,eAAeC,SAAf,eACAd,SAAS,CAAC,UAAI,CACZF,KAAK,CAACiB,GAAN,6BAA+BN,GAA/B,UACGO,IADH,CACQ,UAAM,CACVJ,UAAU,CAAC,IAAD,CAAV,CACAF,WAAW,GACZ,CAJH,EAKGO,KALH,CAKS,UAAI,CACTL,UAAU,CAAC,KAAD,CAAV,CACAF,WAAW,GACZ,CARH,EASD,CAVQ,CAUP,EAVO,CAAT,CAWAV,SAAS,CAAC,UAAI,CACZF,KAAK,CAACiB,GAAN,yBAA2BN,GAA3B,GACGO,IADH,CACQ,SAACE,GAAD,CAAS,CACbJ,SAAS,CAACI,GAAG,CAACC,IAAJ,CAASN,MAAT,CAAgB,CAAjB,CAAT,CACAH,WAAW,GACZ,CAJH,EAKGO,KALH,CAKS,UAAI,CACTL,UAAU,CAAC,KAAD,CAAV,CACAF,WAAW,GACZ,CARH,EASD,CAVQ,CAUP,EAVO,CAAT,CAYA,mBACE,yBACGC,OAAO,cACN,KAAC,iBAAD,EAAmB,SAAS,CAAE,EAA9B,uBACE,YAAK,SAAS,CAAC,oBAAf,uBACE,aAAK,SAAS,CAAC,eAAf,wBACE,aAAK,SAAS,CAAC,4BAAf,sBACWF,GADX,GADF,cAIE,aAAK,SAAS,CAAC,eAAf,wBACE,cAAO,SAAS,2BAAqBN,gBAAgB,CAACU,MAAD,CAArC,CAAhB,CAAiE,QAAQ,KAAzE,CAA0E,IAAI,KAA9E,CAA+E,KAAK,KAApF,CAAqF,KAAK,CAAC,KAA3F,CAAiG,MAAM,CAAC,KAAxG,CAA8G,GAAG,4BAAsBJ,GAAtB,QAAjH,EADF,cAEE,cAAO,SAAS,2BAAqBL,iBAAiB,CAACS,MAAD,CAAtC,CAAhB,CAAkE,QAAQ,KAA1E,CAA2E,IAAI,KAA/E,CAAgF,KAAK,KAArF,CAAsF,KAAK,CAAC,KAA5F,CAAkG,MAAM,CAAC,KAAzG,CAA+G,GAAG,4BAAsBJ,GAAtB,QAAlH,EAFF,GAJF,GADF,EADF,EADM,cAeN,kBAhBJ,EADF,CAqBD,CAhDD,CAkDA,cAAeD,CAAAA,eAAf","sourcesContent":["import axios from 'axios';\nimport React, { useEffect, useState, useRef } from 'react';\nimport { LazyLoadComponent } from 'react-lazy-load-image-component';\n\nconst firstChoiceStyle = [\n  \"outline outline-offset-0 outline-green-500 shadow-2xl shadow-green-400\",\n  \"outline outline-offset-0 outline-red-500 opacity-75 shadow-2xl shadow-red-400\",\n  \"outline outline-offset-0 outline-green-300 shadow-xl shadow-green-300\",\n  \"outline outline-offset-0 outline-black-500 opacity-75\"\n];\n\nconst secondChoiceStyle = [\n  \"outline outline-offset-0 outline-red-500 opacity-75 shadow-2xl shadow-red-400\",\n  \"outline outline-offset-0 outline-green-500 shadow-2xl shadow-green-400\",\n  \"outline outline-offset-0 outline-green-300 shadow-xl shadow-green-300\",\n  \"outline outline-offset-0 outline-black-500 opacity-75\"\n];\n\nfunction useForceUpdate(){\n  const [value, setValue] = useState(0); // integer state\n  return () => setValue(value => value + 1); // update the state to force render\n}\n\nconst VideosContainer: React.FC<{idx:number}> = ({ idx }) => {\n  const forceUpdate = useForceUpdate();\n  const [display, setDisplay] = useState<boolean>(false); \n  const [choice, setChoice] = useState<number>(0);\n  useEffect(()=>{\n    axios.get(`/videos/video_one_${idx}.mp4`)\n      .then(() => {\n        setDisplay(true);\n        forceUpdate();\n      })\n      .catch(()=>{\n        setDisplay(false);\n        forceUpdate();\n      });\n  },[]);\n  useEffect(()=>{\n    axios.get(`/human_choice/${idx}`)\n      .then((res) => {\n        setChoice(res.data.choice-1);\n        forceUpdate();\n      })\n      .catch(()=>{\n        setDisplay(false);\n        forceUpdate();\n      });\n  },[]);\n  \n  return (\n    <>\n      {display ?\n        <LazyLoadComponent threshold={20}>\n          <div className=\"flex flex-row my-4\">\n            <div className=\"flex flex-col\">\n              <div className=\"flex flex-row mx-auto pb-2\">\n                Episode {idx}\n              </div>\n              <div className=\"flex flex-row\">\n                <video className={`rounded-xl mx-4 ${firstChoiceStyle[choice]}`} autoPlay loop muted width=\"140\" height=\"140\" src={`videos/video_one_${idx}.mp4`}/>\n                <video className={`rounded-xl mx-4 ${secondChoiceStyle[choice]}`} autoPlay loop muted width=\"140\" height=\"140\" src={`videos/video_two_${idx}.mp4`}/>\n              </div>\n            </div>\n          </div>\n        </LazyLoadComponent>\n        :\n        <></>\n      }\n    </>\n  );\n};\n\nexport default VideosContainer;\n"]},"metadata":{},"sourceType":"module"}